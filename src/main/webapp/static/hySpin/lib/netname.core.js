/*
SetTopBoxUI(netname) 1.0
Copyright(c) 2014
*/
var undefined,_=window._=function(){return+new Date},Namespace=window.Namespace=function(a){var b=a.split("."),c=window;return _.get(c,b)||_.set(c,b,{})},Class=window.Class=function(a,b,c){var d,j,k,l,m,n,o,p,q,t,r,s,e=[],f=Class,g=window,h=f._fun,i=f._reg;if(c=c||{},m=_.get(g,a.split(".")))return m;for(b=b?"string"==typeof b?[b]:b:[],l=0;m=b[l];l++)if(!(e[l]=_.get(g,m.split("."))||nui&&nui.SC&&nui.SC(m)))throw new Error("errNoParent--"+m);if(c.Dependency)for("string"==typeof c.Dependency&&(c.Dependency=[c.Dependency]),l=0;m=c.Dependency[l];l++)if(!(_.get(g,m.split("."))||nui&&nui.SC&&nui.SC(m)))throw new Error("errNoDependency--"+m);j=e[0],d=c.Static||{},m={};for(l in d)i[l]&&(m[l]=1);for(l in m)delete d[l];for(d.Before=c.Before||j&&j.Before,d.After=c.After||j&&j.After,d.$End=c.$End||j&&j.$End,d.__gc=c.__gc||d.__gc||j&&j.__gc||function(){Class.__gc(this.$key)},o=function(){"function"==typeof this.initialize&&this.initialize()},"function"==typeof c.Constructor?(k=h(c.Constructor,"Constructor",a,j||o,"constructor"),k.Constructor=String(c.Constructor)):j?(p=o,q=j.Constructor,q&&(p=new Function(q.slice(q.indexOf("(")+1,q.indexOf(")")).split(","),q.slice(q.indexOf("{")+1,q.lastIndexOf("}")))),k=h(p,"Constructor",a,j.upper,"constructor"),k.Constructor=q):k=o,n=_.fun(),l=e.length-1;m=e[l--];)_.merge(n,m),_.merge(n.prototype,m.prototype);if(k.KEY=k.$key=k.prototype.KEY=k.prototype.$key=a,f._wrap(k,d,0,n,"static"),(m=c.Instance)&&f._wrap(k.prototype,m,1,n.prototype,"instance"),f._inherit(k,n),f._inherit(k.prototype,n.prototype),n=null,_.tryF(k.Before,arguments,k)===!1)return!1;for(l=0;m=e[l];l++){for(m=m.$children||(m.$children=[]),r=0,s=m.length;s>r;r++)if(m[s]==a){t=!0;break}t||(m[m.length]=a)}return k.$nui$=1,k.$children=[],k.$parent=e,k.prototype.constructor=k,k.prototype.$nui$=1,k[a]=k.prototype[a]=!0,_.set(g,a.split("."),k),_.tryF(k.After,[],k),_.tryF(c.Initialize,[],k),_.tryF(k.$End,[],k),_.breakO([c.Static,c.Instance,c],2),k},netname=window.netname=nui=window.nui=function(){};_.merge=function(a,b,c){var d,e;switch("function"==typeof c&&(e=c,c="fun"),c){case"fun":for(d in b)!0===e(b[d],d)&&(a[d]=b[d]);break;case"all":for(d in b)a[d]=b[d];break;case"with":for(d in b)d in a&&(a[d]=b[d]);break;default:for(d in b)d in a||(a[d]=b[d])}return a},_.merge(_,{fun:function(){return function(){}},exec:function(a){var c=document,d=c.getElementsByTagName("head")[0]||c.documentElement,e=c.createElement("script");e.type="text/javascript",nui.browser.ie?e.text=a:e.appendChild(c.createTextNode(a)),d.insertBefore(e,d.firstChild),e.disalbed=!0,e.disabled=!1,d.removeChild(e)},get:function(a,b){if(!b)return a;if(_.isSet(a)){if("string"==typeof b)return a[b];for(var c=0,d=b.length;d>c;)if(!a||(a=a[b[c++]])===undefined)return;return a}return undefined},set:function(a,b,c){if("string"!=typeof b){for(var d,f,e=0,g=b.length-1;g>e;)d=b[e++],a=!a[d]||"object"!=(f=typeof a[d])&&"function"!=f?a[d]={}:a[d];b=b[g]}return c!==undefined?a[b]=c:(a.hasOwnProperty&&a.hasOwnProperty(b)?delete a[b]:a[b]=undefined,void 0)},tryF:function(a,b,c,d){return a&&"function"==typeof a?a.apply(c||{},b||[]):d},asyRun:function(a,b,c,d){return setTimeout("string"==typeof a?a:function(){a.apply(d,c||[]),a=c=null},b||0)},asyHTML:function(a,b,c,d){var e=document.createElement("div"),f=document.createDocumentFragment();e.innerHTML=a,function(){for(var a=d||10;--a&&e.firstChild;)f.appendChild(e.firstChild);e.firstChild?setTimeout(arguments.callee,c||0):b(f)}()},isEmpty:function(a){for(var b in a)return!1;return!0},resetRun:function(a,b,c,d,e){var f=arguments.callee,g=a,h=f.$cache||(f.exists=function(a){return this.$cache[a]})&&(f.$cache={});h[g]&&clearTimeout(h[g]),"function"==typeof b?h[g]=setTimeout(function(){delete h[g],b.apply(e||null,d||[])},c||0):delete h[g]},observableRun:function(a,b,c){nui.Thread.observableRun(a,b,c)},breakO:function(a,b){var g,c=b||1,d=1+(arguments[2]||0),e=arguments.callee,f="___gc_";if(a&&("object"==typeof a||"function"==typeof a)&&a!==window&&a!==document&&1!==a.nodeType){if(a.hasOwnProperty(f))return;try{a[f]=null}catch(h){return}for(g in a)if(a.hasOwnProperty(g)&&a[g]){("object"==typeof a[g]||"function"==typeof a[g])&&c>d&&e(a[g],c,d);try{a[g]=null}catch(h){}}a.length&&(a.length=0),delete a[f]}},each:function(a,b,c){c=c||a;for(var d in a)if(!1===b.call(c,a[d],d,a))break;return a},toFixedNumber:function(a,b){_.isSet(b)||(b=2);var e,f,g,h,c=Math.abs(a),d=""+Math.round(c*Math.pow(10,b));if(/\D/.test(d))e=""+c;else{for(;d.length<1+b;)d="0"+d;g=d.substring(0,f=d.length-b),h=d.substring(f),h&&(h="."+h),e=g+h}return parseFloat((0>a?"-":"")+e)},toNumeric:function(a,b,c,d){return _.isNumb(a)||(a=parseFloat((a+"").replace(/\s*(e\+|[^0-9])/g,function(a,b,c){return"e+"==b||"E+"==b||0==c&&"-"==b?b:b==d?".":""}))||0),_.isSet(b)&&b>=0&&(a=_.toFixedNumber(a,b)),a},formatNumeric:function(a,b,c,d,e){return _.isSet(b)&&(b=parseInt(b,10)),b=b||0===b?b:0,c=_.isSet(c)?c:",",d=d||".",a=""+parseFloat(a),-1==a.indexOf("e")?(a=_.toFixedNumber(a,b)+"",a=a.split("."),e!==!1&&(a[1]?a[1].length:0)<b&&(a[1]=(a[1]||"")+_.str.repeat("0",b-(a[1]?a[1].length:0))),a[0]=a[0].split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+c).split("").reverse().join(""),a.join(d)):a},copy:function(a,b){return _.clone(a,b,1)},clone:function(a,b,c){var e,f,i,k,g,h,j,d=arguments[3]||0;if(a&&"object"==typeof a){if(e=a.constructor,f=e==Array,f||e==Object){if(g=arguments.callee,h=f?[]:{},j=0,!c){if(0>=c)return a;c=100}if(f)for(k=a.length;k>j;j++)("function"!=typeof b||!1!==b.call(a,a[j],j,d+1))&&(h[h.length]=(i=a[j])&&c&&"object"==typeof i?g(i,b,c-1,d+1):i);else for(j in a)(b===!0?"_"==j.charAt(0):"function"==typeof b?!1===b.call(a,a[j],j,d+1):0)||(h[j]=(i=a[j])&&c&&"object"==typeof i?g(i,b,c-1,d+1):i);return h}return a}return a},filter:function(a,b,c){var d,e,g,i;if(!c&&a&&_.isArr(a)){for(g=[],d=0,e=a.length;e>d;d++)g[g.length]=a[d];for(a.length=0,d=0,e=g.length;e>d;d++)("function"==typeof b?!1!==b.call(g,g[d],d):1)&&(a[a.length]=g[d])}else{i={};for(d in a)(b===!0?"_"==d.charAt(0):"function"==typeof b?!1===b.call(a,a[d],d):0)&&(i[d]=1);for(d in i)delete a[d]}return a},toArr:function(a,b){var c,d,e;if(!a)return[];if(c=[],"boolean"==typeof b)for(d in a)c[c.length]=b?d:a[d];else if("string"==typeof a)c=a.split(b||",");else for(d=0,e=a.length;e>d;++d)c[d]=a[d];return c},toUTF8:function(a){return a.replace(/[^\x00-\xff]/g,function(a,b){return"\\u"+((b=a.charCodeAt())<16?"000":256>b?"00":4096>b?"0":"")+b.toString(16)})},fromUTF8:function(a){return a.replace(/\\u([0-9a-f]{3})([0-9a-f])/g,function(a,b,c){return String.fromCharCode(16*parseInt(b,16)+parseInt(c,16))})},urlEncode:function(a){var c,d,b=[];for(c in a)_.isDefined(d=a[c])&&b.push(encodeURIComponent(c)+"="+encodeURIComponent("string"==typeof d?d:_.serialize(d)));return b.join("&")},urlDecode:function(a,b){var c,f,d,e,g,h;if(!a)return b?"":{};for(d={},e=a.split("&"),g=0,h=e.length;h>g;g++){f=e[g],c=f.split("=");try{d[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}catch(i){d[c[0]]=c[1]}}return b?d[b]:d},preLoadImage:function(a,b,c){var d,e,f;if(_.isArr(a)){for(d=0,e=arr.length;e>d;d++)_.preLoadImage(a[d],b,c);return e}return f=document.createElement("img"),f.style.cssText="position:absolute;left:-999px;top:-999px",f.width=f.height=2,f.onload=function(){"function"==typeof b&&b.call(this),this.onload=this.onerror=null,document.body.removeChild(this)},f.onerror=function(){"function"==typeof c&&c.call(this),this.onload=this.onerror=null,document.body.removeChild(this)},document.body.appendChild(f),f.src=a,1},isDefined:function(a){return a!==undefined},isNull:function(a){return null===a},isSet:function(a){return a!==undefined&&null!==a},isObj:function(a){return!!a&&("object"==typeof a||"function"==typeof a)},isBool:function(a){return"boolean"==typeof a},isNumb:function(a){return"number"==typeof a&&isFinite(a)},isFinite:function(a){return(a||0===a)&&isFinite(a)},isDate:function(a){return"[object Date]"===Object.prototype.toString.call(a)&&isFinite(+a)},isFun:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isArr:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_ht:/^\s*function\s+Object\(\s*\)/,isHash:function(a){return!!a&&"[object Object]"==Object.prototype.toString.call(a)&&a.constructor&&_._ht.test(a.constructor.toString())},isReg:function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},isStr:function(a){return"string"==typeof a},isArguments:function(a){return!(!a||!a.callee||a.callee.arguments!==a)},str:{startWith:function(a,b){return 0===a.indexOf(b)},endWith:function(a,b){var c=a.length-b.length;return c>=0&&a.lastIndexOf(b)===c},repeat:function(a,b){return new Array(b+1).join(a)},initial:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},trim:function(a){return a?a.replace(/^(\s|\uFEFF|\xA0)+|(\s|\uFEFF|\xA0)+$/g,""):a},ltrim:function(a){return a?a.replace(/^(\s|\uFEFF|\xA0)+/,""):a},rtrim:function(a){return a?a.replace(/(\s|\uFEFF|\xA0)+$/,""):a},toDom:function(a){var d,e,f,b=nui.$getGhostDiv(),c=[];for(b.innerHTML=a,d=0,e=b.childNodes,f=e.length;f>d;d++)c[c.length]=e[d];return b=null,nui(c)}},arr:{subIndexOf:function(a,b,c){if(c===undefined)return-1;for(var d=0,e=a.length;e>d;d++)if(a[d]&&a[d][b]===c)return d;return-1},removeFrom:function(a,b,c){return a.splice(b,c||1),a},removeValue:function(a,b){for(var c=a.length,d=c-1;d>=0;d--)a[d]===b&&a.splice(d,1);return a},insertAny:function(a,b,c,d){var f,e=a.length;return d=!_.isArr(b)||d,0===c?d?a.unshift(b):a.unshift.apply(a,b):((!c||0>c||c>e)&&(c=e),c!=e&&(f=a.splice(c,e-c)),d?a[a.length]=b:a.push.apply(a,b),f&&a.push.apply(a,f)),c},indexOf:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},each:function(a,b,c,d){var e,f,g=a;if(!g)return g;if(!_.isArr(g)){if((g=g._nodes)||!_.isArr(g))throw new Error("errNotArray");d===undefined&&(d=1)}if(f=g.length,c=c||a,d)for(e=f-1;e>=0&&b.call(c,g[e],e,g)!==!1;e--);else for(e=0;f>e&&b.call(c,g[e],e,g)!==!1;e++);return a},removeDuplicate:function(a,b){var e,c=a.length,d=a.concat();for(a.length=0,e=c-1;e>=0;e--)(b?this.subIndexOf(d,b,d[e][b])===e:this.indexOf(d,d[e])===e)&&a.push(d[e]);return a.reverse()}}}),_.merge(_.fun,{body:function(fun){with(String(fun))return slice(indexOf("{")+1,lastIndexOf("}"))},args:function(fun){with(String(fun))return slice(indexOf("(")+1,indexOf(")")).split(",")},clone:function(a){return new Function(_.fun.args(a),_.fun.body(a))}}),_.merge(Class,{_reg:{$key:1,$parent:1,$children:1,KEY:1,Static:1,Instance:1,Constructor:1,Initialize:1},_reg2:{nodeType:1,constructor:1,prototype:1,toString:1,valueOf:1,hasOwnProperty:1,isPrototypeOf:1,propertyIsEnumerable:1,toLocaleString:1},_fun:function(a,b,c,d,e){return a.$name$=b,a.$original$=c,e&&(a.$type$=e),d&&(a.upper=d),a},_other:["toString","valueOf"],_o:{},_inherit:function(a,b,c){var d,e,f=this._reg;for(d in b)d in a||!c&&f[d]||"$"==d.charAt(0)||(e=b[d],e&&e.$nui$||(a[d]=e))},_wrap:function(a,b,c,d,e){var g,h,i,f=this,j=a.KEY,k=f._reg,l=f._reg2,m=f._fun,n=f._other;for(g in b)l[g]||!c&&k[g]||(i=b[g],a[g]="function"!=typeof i?i:m(i,g,j,"function"==typeof d[g]&&d[g],e));for(h=0;g=n[h++];)i=b[g],i&&i==f._o[g]||(a[g]="function"!=typeof i?i:m(i,g,j,"function"==typeof d[g]&&d[g],e))},__gc:function(a){var c,d,e,b,f;if("object"==typeof a&&(a=a.KEY||""),b=_.get(window,a.split("."))){if((c=_.get(window,["nui","$cache","SC"]))&&delete c[a],b.$parent&&(b.$parent.length=0),c=b.$children){for(d=0;f=c[d];d++)(f=_.get(window,f.split(".")))&&f.__gc();c.length=0}for(d in b)if("upper"!=d&&"function"==typeof b[d])for(e in b[d])b[d].hasOwnProperty(e)&&delete b[d][e];_.breakO(b),b=b.prototype;for(d in b)if("upper"!=d&&"function"==typeof b[d])for(e in b[d])b[d].hasOwnProperty(e)&&delete b[d][e];_.breakO(b),_.set(window,a.split("."))}},destroy:function(a){Class.__gc(a)}}),_.merge(nui,{$DEFAULTHREF:"javascript:;",$IEUNSELECTABLE:function(){return nui.browser.ie?' onselectstart="return false;" ':""},SERIALIZEMAXLAYER:99,SERIALIZEMAXSIZE:9999,$localeKey:"en",$localeDomId:"xlid",$dateFormat:"",Locale:{},$cache:{thread:{},SC:{},hookKey:{},hookKeyUp:{},snipScript:{},subscribes:{},ghostDiv:[],domPurgeData:{},profileMap:{},reclaimId:{},template:{},UIKeyMapEvents:{},droppable:{},unique:{}},subscribe:function(a,b,c,d){if(null!==a&&a!==undefined&&null!==b&&b!==undefined&&"function"==typeof c){var f,e=nui.$cache.subscribes;return e[a]=e[a]||[],f=_.arr.subIndexOf(e[a],"id",b),-1!=f&&_.arr.removeFrom(e[a],f),e[a].push({id:b,receiver:c,asy:!!d})}},unsubscribe:function(a,b){var d,c=nui.$cache.subscribes;b?c[a]&&(d=_.arr.subIndexOf(c[a],"id",b),-1!=d&&_.arr.removeFrom(c[a],d)):null===a||a===undefined?c={}:delete c[a]},publish:function(a,b,c){var d=nui.$cache.subscribes;if(null===a||a===undefined)for(a in d)_.arr.each(d[a],function(a){return a.asy?(_.asyRun(a.receiver,0,b,c),void 0):_.tryF(a.receiver,b,c,!0)});else d[a]&&_.arr.each(d[a],function(a){return a.asy?(_.asyRun(a.receiver,0,b,c),void 0):_.tryF(a.receiver,b,c,!0)})},getSubscribers:function(a){return null===a||a===undefined?nui.$cache.subscribes:nui.$cache.subscribes[a]},setDateFormat:function(a){nui.$dateFormat=a},getDateFormat:function(){return nui.$dateFormat},setAppLangKey:function(a){nui.$appLangKey=a},getAppLangKey:function(){return nui.$appLangKey},getLang:function(){return nui.$localeKey},setLang:function(a,b){var d,e,f,g,h,i,j,c=nui.getRes,k=[];for(nui.$localeKey=a,e=nui.browser.ie?document.all.tags("span"):document.getElementsByTagName("span"),f=0;d=e[f];f++)d.id==nui.$localeDomId&&(k[k.length]=d);h=function(){!function(){for(g=k.splice(0,100),f=0;d=g[f];f++)"string"==typeof(e=c(d.className))&&(d.innerHTML=e);k.length&&setTimeout(arguments.callee,0),_.tryF(b)}()},j="nui.Locale."+a,i=function(){var b=nui.$appLangKey;b?nui.include(j+"."+b,nui.getPath("Locale."+a,".js"),h,h):h()},nui.include(j+".$_$",nui.getPath(j,".js"),i,i)},getTheme:function(a){try{a=nui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(b){}finally{return a||"default"}},setTheme:function(a,b,c,d){var e,f,h,i,j;if(a=a||"default",e=nui.getTheme(),a!=e){if(b!==!1){if("default"!=a){try{f=nui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(g){}finally{if(f==a||"default"==a)return _.tryF(c),void 0}nui.CSS.includeLink(nui.getPath("nui.appearance."+a,"/theme.css"),"theme:"+a)}"default"!==e&&(h=nui.CSS.get("id","theme:"+e),h&&(h.disabled=!0,h.parentNode.removeChild(h)),h=nui.CSS.$getCSSValue(".setting-uikey","fontFamily",e),h&&(h.disabled=!0,h.parentNode.removeChild(h)))}b!==!1?(nui.$CSSCACHE={},i=0,j=function(){if(i>20&&!1!==_.tryF(d))throw new Error("errLoadTheme:"+a);i++;var e;try{e=nui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(f){}finally{e==a||"default"==a?(nui.UI&&nui.UI.getAll().reLayout(!0),_.tryF(c),j=i=null):_.asyRun(j,100*i)}},j("l")):_.tryF(c)}else _.tryF(c)},$CSSCACHE:{},_langParamReg:/\x24(\d+)/g,_langscMark:/[$@{][\S]+/,_langReg:/((\$)([^\w]))|((\$)([\w][\w\.]*[\w]+))|((\@)([\w][\w\.]*[\w]+)(\@?))|((\{)([~!@#$%^&*+-\/?.|:][\w]*|[\w][\w\.]*[\w]+)(\}))/g,getRes:function(a){var b,c,d,e=arguments;return"string"==typeof a?(-1!=a.indexOf("-")&&(d=a.split("-"),a=d[0],e=d),b=a.split(".")):b=a,c=_.get(nui.Locale[nui.$localeKey],b),"string"==(d=typeof c)?e.length>1?c.replace(nui._langParamReg,function(a,b,c){return c=e[1+ +b],null===c||c===undefined?a:c}):c:"function"==d?c.apply(null,e):c?c:b[b.length-1]},wrapRes:function(a){var c,d,b=a;return"$"==b.charAt(0)&&(arguments[0]=b.substr(1,b.length-1)),c=a,d=nui.getRes.apply(null,arguments),c==d&&(d=b),'<span id="'+nui.$localeDomId+'" class="'+c+'" '+nui.$IEUNSELECTABLE()+">"+d+"</span>"},adjustRes:function(a,b,c){return b=b?nui.wrapRes:nui.getRes,nui._langscMark.test(a)?a.replace(nui._langReg,function(a,d,e,f,g,h,i,j,k,l,m,n,o,p){return"$"==e?f:"$"==h?b(i):(c?0:"@"==k)||"{"==o?(l=nui.SC.get("@"==k?l:p))||(_.isSet(l)?l:""):a}):a},request:function(a,b,c,d,e,f){return(f&&f.proxyType?"sajax"==f.proxyType.toLowerCase()?nui.SAjax:"iajax"==f.proxyType.toLowerCase()?nui.IAjax:nui.Ajax:"object"==typeof b&&function(a){if(!_.isHash(a))return 0;for(var b in a)if(a[b]&&1==a[b].nodeType)return 1}(b)?nui.IAjax:f&&f.method&&"post"==f.method.toLowerCase()?nui.absIO.isCrossDomain(a)?nui.IAjax:nui.Ajax:nui.absIO.isCrossDomain(a)?nui.SAjax:nui.Ajax).apply(null,arguments).start()},include:function(a,b,c,d,e,f){a&&nui.SC.get(a)?_.tryF(c):(f="object"==typeof f?f:{},e?(f.asy=!e,nui.Ajax(b,"",function(a){try{_.exec(a)}catch(b){_.tryF(d,[b.name+": "+b.message])}_.tryF(c)},d,0,f).start()):(f.rspType="script",f.checkKey=a,nui.SAjax(b,"",c,d,0,f).start()))},require:function(a,b,c,d){nui.include(a,nui.getPath(a,".js","js"),c,d,b)},_m:[],main:function(a){nui._m.push(a)},getPath:function(a,b,c){var d,e,f,g,h;if(a=a.split("."),c){for(d=[a[0],c],e=1,f=a.length;f>e;e++)d.push(a[e]);a.length=0,a=d}return h=nui.ini,"nui"==a[0]?(g=h.path,a.shift(),a.length==(c?1:0)&&a.push("nui")):(g=h.appPath,a.length==(c?1:0)+1&&".js"==b&&a.push("index"),h.verPath&&(g+=h.verPath+"/"),h.ver&&(g+=h.ver+"/")),"/"!=g.slice(-1)&&(g+="/"),g+a.join("/")+(b||"/")},log:_.fun(),message:_.fun(),_pool:[],getObject:function(a){return nui._pool["$"+a]},_ghostDivId:"nui.ghost::",$getGhostDiv:function(){var d,a=nui.$cache.ghostDiv,b=0,c=a.length;do d=a[b++];while(c>b&&d&&d.firstChild);return(!d||d.firstChild)&&(d=document.createElement("div"),d.id=nui._ghostDivId,a.push(d)),d},$xid:0,$registerNode:function(a){var b,c,d=nui.$cache.domPurgeData;return a.$xid&&(c=d[a.$xid])&&c.element==a||(b="!"+nui.$xid++,c=d[b]||(d[b]={}),c.element=a,a.$xid=c.$xid=b),a=null,c},getId:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a?window===a?"!window":document===a?"!document":a.$xid||"":""},getNode:function(a){return nui.use(a).get(0)},getNodeData:function(a,b){return a?_.get(nui.$cache.domPurgeData["string"==typeof a?a:nui.getId(a)],b):void 0},setNodeData:function(a,b,c){return a?_.set(nui.$cache.domPurgeData["string"==typeof a?a:nui.getId(a)],b,c):void 0},$purgeChildren:function(a){var i,j,k,l,m,n,o,b=nui.$cache,c=b.profileMap,e=(b.UIKeyMapEvents,b.domPurgeData),f=nui.browser.ie?a.all:a.getElementsByTagName("*"),g=f.length,h=[];for(i=0;g>i;i++)if(m=f[i]){if(l=m.$xid){if(k=e[l]){if(n=k.eHandlers)for(j in n)m[j]=null;for(j in k)k[j]=null;delete e[l]}nui.browser.ie?m.removeAttribute("$xid"):delete m.$xid}if((o=m.id)&&o in c){if(k=c[o],!k)continue;if(l=k.renderId,"!window"===l||"!document"===l)continue;k.__gc(),h[h.length]=i,k.$domId&&k.$domId!=k.domId&&(h[h.length]=k.$domId)}}for(i=0;i<h.length;)delete c[h[i++]];a.innerHTML=""},create:function(a){var b,c,d,g,h,e=arguments.callee,f=e.r1||(e.r1=/</);if("string"==typeof a)if(d=nui.absBox.$type[a]){for(b=[],g=1,h=arguments.length;h>g;g++)b[g-1]=arguments[g];c=new(nui.SC(d))(!1),c._ini&&c._ini.apply(c,b)}else f.test(a)?c=_.str.toDom(a):(c=document.createElement(a),c.id="string"==typeof id?id:_.id(),c=nui(c));else c=new(nui.SC(a.key))(a);return c},use:function(a){var b=nui._tempBox||(nui._tempBox=nui()),c=b._nodes;return c[0]=a,1!=c.length&&(c.length=1),b}}),new function(){var h,i,j,k,l,m,a=window,b=navigator.userAgent.toLowerCase(),c=document,d=c.documentMode,e=nui.browser={kde:/webkit/.test(b),opr:/opera/.test(b),ie:/msie/.test(b)&&!/opera/.test(b),gek:/mozilla/.test(b)&&!/(compatible|webkit)/.test(b),isStrict:"CSS1Compat"==c.compatMode,isWebKit:/webkit/.test(b),isFF:/firefox/.test(b),isChrome:/chrome/.test(b),isSafari:!/chrome/.test(b)&&/safari/.test(b),isWin:/(windows|win32)/.test(b),isMac:/(macintosh|mac os x)/.test(b),isAir:/adobeair/.test(b),isLinux:/linux/.test(b),isSecure:0==location.href.toLowerCase().indexOf("https"),isTouch:"ontouchend"in c&&!/hp-tablet/.test(b)||b.msPointerEnabled,isIOS:/iphone|ipad|ipod/.test(b),isAndroid:/android/.test(b),isBB:/blackberry/.test(b)||/BB[\d]+;.+\sMobile\s/.test(navigator.userAgent)},f=function(a,c){return c=b.split(c)[1].split("."),a+(e.ver=parseFloat(c.length>0&&isFinite(c[1])?c[0]+"."+c[1]:c[0]))};if(nui.$secureUrl=e.isSecure&&e.ie?'javascript:""':"about:blank",_.filter(e,function(a){return!!a}),e.ie){if(_.isNumb(d)?e["ie"+(e.ver=d)]=!0:e[f("ie","msie ")]=!0,e.ie6){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}a.XMLHttpRequest=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}e.cssTag1="-ms-",e.cssTag2="ms"}else e.gek?(e[f("gek",/.+\//)]=!0,e.cssTag1="-moz-",e.cssTag2="Moz"):e.opr?(e[f("opr","opera/")]=!0,e.cssTag1="-o-",e.cssTag2="O"):e.kde&&(e[f("kde","webkit/")]=!0,e.isSafari?/applewebkit\/4/.test(b)?e["safari"+(e.ver=2)]=!0:e[f("safari","version/")]=!0:e.isChrome&&(e[f("chrome","chrome/")]=!0),e.isWebKit?(e.cssTag1="-webkit-",e.cssTag2="Webkit"):(e.cssTag1="-khtml-",e.cssTag2="Khtml"));if(e.isBB&&!e.ver&&(e.ver=parseFloat(ua.split("/")[1].substring(0,3)),e["bb"+e.ver]=!0),e.contentBox=function(a){return e.ie||e.opr?!/BackCompat|QuirksMode/.test(c.compatMode):(a=(a=a||c.documentElement).style["-moz-box-sizing"]||a.style["box-sizing"])?"content-box"==a:!0}(),h=nui.ini={},window.nui_ini&&_.merge(h,window.nui_ini),!h.path)for(j=document.getElementsByTagName("script"),k=/js\/nui(-[\w]+)?\.js$/,l=j.length;--l>=0;)if(i=j[l].src,i.match(k)){h.path=i.replace(k,"");break}_.merge(h,{appPath:location.href.split("?")[0].replace(/[^\\\/]+$/,""),img_bg:h.path+"bg.gif",img_busy:h.path+"busy.gif",img_blank:e.ie&&e.ver<=7?h.path+"bg.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",dummy_tag:"$_dummy_$"}),h.path||(h.path=h.appPath+"/nui"),m=function(){if(!nui.isDomReady){c.addEventListener?(c.removeEventListener("DOMContentLoaded",m,!1),a.removeEventListener("load",m,!1)):(c.detachEvent("onreadystatechange",m),a.detachEvent("onload",m));try{for(var b=0,d=nui._m.length;d>b;b++)_.tryF(nui._m[b]);nui._m.length=0,nui.isDomReady=!0}catch(e){_.asyRun(function(){throw e})}}},c.addEventListener?(c.addEventListener("DOMContentLoaded",m,!1),a.addEventListener("load",m,!1)):(c.attachEvent("onreadystatechange",m),a.attachEvent("onload",m),function(){if(!nui.isDomReady)try{c.activeElement.id,c.documentElement.doScroll("left"),m()}catch(a){setTimeout(arguments.callee,9)}}()),function(){nui.isDomReady||c.readyState&&!/in/.test(c.readyState)?m():setTimeout(arguments.callee,9)}()},new function(){nui._uriReg=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,nui._localReg=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,nui._curHref=function(a){try{return location.href}catch(b){return a=document.createElement("a"),a.href="",a.href}}(),nui._localParts=nui._uriReg.exec(nui._curHref.toLowerCase())||[]},new function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},b={};nui.isEventSupported=function(c){if(c in b)return b[c];var d=document.createElement(a[c]||"div"),e="on"+c,f=e in d;return f||(d.setAttribute(e,"return;"),f="function"==typeof d[e]),d=null,b[c]=f}};